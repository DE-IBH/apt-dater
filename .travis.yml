sudo: required
language: generic

services:
  - docker

env:
 - features=""
 - features="--enable-debug"
 - features="--enable-xmlreport"
 - features="--enable-autoref"
 - features="--enable-history"
 - features="--enable-clusters"
 - features="--enable-tclfilter"
 - features="--enable-tmux"
 - features="--enable-debug --enable-xmlreport"
 - features="--enable-autoref --enable-debug"
 - features="--enable-debug --enable-history"
 - features="--enable-clusters --enable-debug"
 - features="--enable-debug --enable-tclfilter"
 - features="--enable-debug --enable-tmux"
 - features="--enable-autoref --enable-xmlreport"
 - features="--enable-history --enable-xmlreport"
 - features="--enable-clusters --enable-xmlreport"
 - features="--enable-tclfilter --enable-xmlreport"
 - features="--enable-tmux --enable-xmlreport"
 - features="--enable-autoref --enable-history"
 - features="--enable-autoref --enable-clusters"
 - features="--enable-autoref --enable-tclfilter"
 - features="--enable-autoref --enable-tmux"
 - features="--enable-clusters --enable-history"
 - features="--enable-history --enable-tclfilter"
 - features="--enable-history --enable-tmux"
 - features="--enable-clusters --enable-tclfilter"
 - features="--enable-clusters --enable-tmux"
 - features="--enable-tclfilter --enable-tmux"
 - features="--enable-autoref --enable-debug --enable-xmlreport"
 - features="--enable-debug --enable-history --enable-xmlreport"
 - features="--enable-clusters --enable-debug --enable-xmlreport"
 - features="--enable-debug --enable-tclfilter --enable-xmlreport"
 - features="--enable-debug --enable-tmux --enable-xmlreport"
 - features="--enable-autoref --enable-debug --enable-history"
 - features="--enable-autoref --enable-clusters --enable-debug"
 - features="--enable-autoref --enable-debug --enable-tclfilter"
 - features="--enable-autoref --enable-debug --enable-tmux"
 - features="--enable-clusters --enable-debug --enable-history"
 - features="--enable-debug --enable-history --enable-tclfilter"
 - features="--enable-debug --enable-history --enable-tmux"
 - features="--enable-clusters --enable-debug --enable-tclfilter"
 - features="--enable-clusters --enable-debug --enable-tmux"
 - features="--enable-debug --enable-tclfilter --enable-tmux"
 - features="--enable-autoref --enable-history --enable-xmlreport"
 - features="--enable-autoref --enable-clusters --enable-xmlreport"
 - features="--enable-autoref --enable-tclfilter --enable-xmlreport"
 - features="--enable-autoref --enable-tmux --enable-xmlreport"
 - features="--enable-clusters --enable-history --enable-xmlreport"
 - features="--enable-history --enable-tclfilter --enable-xmlreport"
 - features="--enable-history --enable-tmux --enable-xmlreport"
 - features="--enable-clusters --enable-tclfilter --enable-xmlreport"
 - features="--enable-clusters --enable-tmux --enable-xmlreport"
 - features="--enable-tclfilter --enable-tmux --enable-xmlreport"
 - features="--enable-autoref --enable-clusters --enable-history"
 - features="--enable-autoref --enable-history --enable-tclfilter"
 - features="--enable-autoref --enable-history --enable-tmux"
 - features="--enable-autoref --enable-clusters --enable-tclfilter"
 - features="--enable-autoref --enable-clusters --enable-tmux"
 - features="--enable-autoref --enable-tclfilter --enable-tmux"
 - features="--enable-clusters --enable-history --enable-tclfilter"
 - features="--enable-clusters --enable-history --enable-tmux"
 - features="--enable-history --enable-tclfilter --enable-tmux"
 - features="--enable-clusters --enable-tclfilter --enable-tmux"
 - features="--enable-autoref --enable-debug --enable-history --enable-xmlreport"
 - features="--enable-autoref --enable-clusters --enable-debug --enable-xmlreport"
 - features="--enable-autoref --enable-debug --enable-tclfilter --enable-xmlreport"
 - features="--enable-autoref --enable-debug --enable-tmux --enable-xmlreport"
 - features="--enable-clusters --enable-debug --enable-history --enable-xmlreport"
 - features="--enable-debug --enable-history --enable-tclfilter --enable-xmlreport"
 - features="--enable-debug --enable-history --enable-tmux --enable-xmlreport"
 - features="--enable-clusters --enable-debug --enable-tclfilter --enable-xmlreport"
 - features="--enable-clusters --enable-debug --enable-tmux --enable-xmlreport"
 - features="--enable-debug --enable-tclfilter --enable-tmux --enable-xmlreport"
 - features="--enable-autoref --enable-clusters --enable-debug --enable-history"
 - features="--enable-autoref --enable-debug --enable-history --enable-tclfilter"
 - features="--enable-autoref --enable-debug --enable-history --enable-tmux"
 - features="--enable-autoref --enable-clusters --enable-debug --enable-tclfilter"
 - features="--enable-autoref --enable-clusters --enable-debug --enable-tmux"
 - features="--enable-autoref --enable-debug --enable-tclfilter --enable-tmux"
 - features="--enable-clusters --enable-debug --enable-history --enable-tclfilter"
 - features="--enable-clusters --enable-debug --enable-history --enable-tmux"
 - features="--enable-debug --enable-history --enable-tclfilter --enable-tmux"
 - features="--enable-clusters --enable-debug --enable-tclfilter --enable-tmux"
 - features="--enable-autoref --enable-clusters --enable-history --enable-xmlreport"
 - features="--enable-autoref --enable-history --enable-tclfilter --enable-xmlreport"
 - features="--enable-autoref --enable-history --enable-tmux --enable-xmlreport"
 - features="--enable-autoref --enable-clusters --enable-tclfilter --enable-xmlreport"
 - features="--enable-autoref --enable-clusters --enable-tmux --enable-xmlreport"
 - features="--enable-autoref --enable-tclfilter --enable-tmux --enable-xmlreport"
 - features="--enable-clusters --enable-history --enable-tclfilter --enable-xmlreport"
 - features="--enable-clusters --enable-history --enable-tmux --enable-xmlreport"
 - features="--enable-history --enable-tclfilter --enable-tmux --enable-xmlreport"
 - features="--enable-clusters --enable-tclfilter --enable-tmux --enable-xmlreport"
 - features="--enable-autoref --enable-clusters --enable-history --enable-tclfilter"
 - features="--enable-autoref --enable-clusters --enable-history --enable-tmux"
 - features="--enable-autoref --enable-history --enable-tclfilter --enable-tmux"
 - features="--enable-autoref --enable-clusters --enable-tclfilter --enable-tmux"
 - features="--enable-clusters --enable-history --enable-tclfilter --enable-tmux"
 - features="--enable-autoref --enable-clusters --enable-debug --enable-history --enable-xmlreport"
 - features="--enable-autoref --enable-debug --enable-history --enable-tclfilter --enable-xmlreport"
 - features="--enable-autoref --enable-debug --enable-history --enable-tmux --enable-xmlreport"
 - features="--enable-autoref --enable-clusters --enable-debug --enable-tclfilter --enable-xmlreport"
 - features="--enable-autoref --enable-clusters --enable-debug --enable-tmux --enable-xmlreport"
 - features="--enable-autoref --enable-debug --enable-tclfilter --enable-tmux --enable-xmlreport"
 - features="--enable-clusters --enable-debug --enable-history --enable-tclfilter --enable-xmlreport"
 - features="--enable-clusters --enable-debug --enable-history --enable-tmux --enable-xmlreport"
 - features="--enable-debug --enable-history --enable-tclfilter --enable-tmux --enable-xmlreport"
 - features="--enable-clusters --enable-debug --enable-tclfilter --enable-tmux --enable-xmlreport"
 - features="--enable-autoref --enable-clusters --enable-debug --enable-history --enable-tclfilter"
 - features="--enable-autoref --enable-clusters --enable-debug --enable-history --enable-tmux"
 - features="--enable-autoref --enable-debug --enable-history --enable-tclfilter --enable-tmux"
 - features="--enable-autoref --enable-clusters --enable-debug --enable-tclfilter --enable-tmux"
 - features="--enable-clusters --enable-debug --enable-history --enable-tclfilter --enable-tmux"
 - features="--enable-autoref --enable-clusters --enable-history --enable-tclfilter --enable-xmlreport"
 - features="--enable-autoref --enable-clusters --enable-history --enable-tmux --enable-xmlreport"
 - features="--enable-autoref --enable-history --enable-tclfilter --enable-tmux --enable-xmlreport"
 - features="--enable-autoref --enable-clusters --enable-tclfilter --enable-tmux --enable-xmlreport"
 - features="--enable-clusters --enable-history --enable-tclfilter --enable-tmux --enable-xmlreport"
 - features="--enable-autoref --enable-clusters --enable-history --enable-tclfilter --enable-tmux"
 - features="--enable-autoref --enable-clusters --enable-debug --enable-history --enable-tclfilter --enable-xmlreport"
 - features="--enable-autoref --enable-clusters --enable-debug --enable-history --enable-tmux --enable-xmlreport"
 - features="--enable-autoref --enable-debug --enable-history --enable-tclfilter --enable-tmux --enable-xmlreport"
 - features="--enable-autoref --enable-clusters --enable-debug --enable-tclfilter --enable-tmux --enable-xmlreport"
 - features="--enable-clusters --enable-debug --enable-history --enable-tclfilter --enable-tmux --enable-xmlreport"
 - features="--enable-autoref --enable-clusters --enable-debug --enable-history --enable-tclfilter --enable-tmux"
 - features="--enable-autoref --enable-clusters --enable-history --enable-tclfilter --enable-tmux --enable-xmlreport"
 - features="--enable-autoref --enable-clusters --enable-debug --enable-history --enable-tclfilter --enable-tmux --enable-xmlreport"

before_install:
 - docker run --name travis-build -e features="$features" -v $(pwd):/prj -it debian /prj/build/travis-before.sh
 - docker commit travis-build travis-build

install:
 - docker run --name travis-install -e features="$features" -v $(pwd):/prj -it travis-build /prj/build/travis-install.sh
 - docker commit travis-install travis-install

script:
 - docker run --rm -v $(pwd):/prj -it travis-install /prj/src/apt-dater -v
